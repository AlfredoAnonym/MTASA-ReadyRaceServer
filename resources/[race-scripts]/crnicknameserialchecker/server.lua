local serialNicknameTable = {
	["D20F7DA41FCC96842C001336A6ED1C43"] = "Haku & Modestep",
	["CAD789F9E8B10AAC3B53EA733FE443F3"] = "Honz",
	["DD09815D1FA1D09798006AB22DBA0C43"] = "Marcel",
	["335E64D11A9BFBCECD647E98FE882942"] = "korf",
	["F7364AC4D6067D123A4059A2AA7302F4"] = "versun",
	["87F591CDC7E59F19EE61E9976B9B78F3"] = "Lin",
	["00BE96B985D365EF7E59BCC6E07A8FA3"] = "Vesselam",
	["3FF1DB05F7DFBDBEF21D6D1645E9E142"] = "JesusZLG",
	["E1232625A144407C0AD08DBF29E78FF4"] = "Raylight",
	["D1845C86911EDC44278A9FB9B3BE8A54"] = "Wenom",
	["88F23D436F8DAECBB248E974C853CE43"] = "P4!N",
	["ACC4480E6B36CBF9C4A391D2B02C8053"] = "drag0n",
	["18AD30675A8B88F8C70BE5432A4C0803"] = "d3xy",
	["4553F870E043551FA71C6D02A689C143"] = "guigs",
	["1793B8BD5F2AF2FFD2CC2E9DAEF8BE94"] = "Storm",
	["B81654D7B14ED9734171582BC68B6DA2"] = "SpeedyGonschik",
	["377E08AE1993352B13A3F7F115382F54"] = "TeRRoN",
	["CA02166E0167F100CAFCC741BA1D37F4"] = "Tevas",
	["A8454151E81945A545BF8A35ED8BED53"] = "Martis",
	["5898AC053D9B908FD3829FFA3AAF6FF3"] = "BRAASIC",
	["1FBBAB5D1BDBDC79247DD08A18FFC0E2"] = "huyymarik",
	["74F58F01B47BEA61D690A2126F784193"] = "HappyMiata",
	["F38DA2B2B31F5067C9E155E25FFD04A2"] = "Keddiak",
	["A01D43F3C900A4B471F2F09F9C9AB1A2"] = "vesa",
	["2121A98E4EA7B5B25058B56ED6CF5134"] = "vintage",
	["F02A511333369539D34A284ED81E41A1"] = "forneq",
	["5B51A063D19A89CCEE0F8A59BDF53803"] = "Tupac.",
	["60D52F926706B2AB26C0B7E3B5A396F3"] = "QuaiD",
	["2FFA021FAD725825E97CEC1279FD8094"] = "S14",
	["8B61EF88450116A14C3E426264A522B2"] = "ibocaN",
	["3D9FF6B1F71EE7A55DD7B1713C401C62"] = "Astro",
	["2F9D90FF6F766B234D56804B53F978B2"] = "Maze",
	["57C30A1F175FEF660EC3550A2722C702"] = "Marsey",
	["E8C19C5BEE39F203197FDDB18F055A12"] = "Mirza_Zuka",
	["FB4FD1BAFC9E7DD583D271DEABA31F13"] = "T3SL4",
	["C4B507EEA8BCA1C13B35F863FB806E62"] = "Nano",
	["D3AE5769D47F6BAABE3755330A695E42"] = "Frank-X-FEO",
	["8D2601B6CDFD8838C368AACBB8648324"] = "Oween",
	["6D0F0A3C44579638A88E5AEA7A98AC03"] = "Tom",
	["2F249DA5E00522CF045AE27CDDFCE864"] = "Ryuzaki",
	["AC907781E07E0738B0ABD8DADB92ABB4"] = "22",
	["E5CAB382AD4F7C27D08A8FFFD38242E3"] = "Unky",
	["8DE55B8CE82A64B45F5EB9BC15783342"] = "Biber",
	["6A15981420ADE455026C9DAADAE08F"] = "Pikachu",
	["9197E37BD18C6CFAB8B2A960B5921224"] = "Hawaken",
	["64CD3EE5065FD33FFC13CACB087C8292"] = "KenBloc[K]",
	["7F361A93B323B2BF7EF56A3D45226FA2"] = "MoXdder",
	["7B1AE628F18D98161742DE9B99E99902"] = "XyZ",
	["C1AA9B76813081FAB25F031D5DEB5D52"] = "AyyGor",
	["81046CB98C87DF76EEFD5EBEF1E624F0"] = "FeNsTeR_",
	["54938FC53D1FEB3E0E97E65DF275BA53"] = "Viper",
	["651E4DBE250EE5BE16277855A9758324"] = "suckarr",
	["1EE60B587D2DD0B225C442B794E32A93"] = "shark",
	["D0928E1279CC26B788CEC12B6AD32A42"] = "Waldek",
	["1C69A28D5C3D3DAA100F2677F8A87752"] = "Emery",
	["CD5907CA63FDC9914B132946B97037E2"] = "Bence",
	["492A6E130C11D0BB9423FE68081FB6F3"] = "BladeFN",
	["636BF169454F94FAA9C9B0411161BF71"] = "MadMaus",
	["C9529EDA014526B110037828D3FF5AE2"] = "Majdan",
	["7954C6325B494512945374948F247F13"] = "Woozie",
	["B804C3EFB37D7A9509531C13E6D50192"] = "EztebanD",
	["EAA648CACB6BCACE8D26D56A56AE17A2"] = "yuyu",
	["3C37ADB4975BE59FD0C01A57C71EF3A1"] = "Lynch",
	["F11DE517B18F000160C94B05051E9E02"] = "Alone",
	["CA5C73FE606366A79E8C35ECD329E493"] = "KingOfFails",
	["98C313CFBB18B9CD159104F32E9D504"] = "FuZ",
	["2A11F193A1DB21C925F643DEBD2A8944"] = "GilGames",
	["B3CCDC20DD93AFCB8F68857822CABA54"] = "Dekoder",
	["CDA5E74425F292FE0EDB8D4514875EA2"] = "Q33",
	["0FFD5388AF25CE9DB620B5099A8AE3A2"] = "stampi",
	["B81AF233D49B7C1A85E6CCAA8E5F01A1"] = "H!J@CK",
	["54F72DD07FF7BADE3DB49379A533C402"] = "Truth",
	["07F8B444E9BAE1770F75F22630716D03"] = "Aveng3r",
	["921431451293DDE47CA86D383E1FDD13"] = "McLareN",
	["F1DB9EAB5D96517EF33768691CC4E252"] = "Nemercs",
	["69D0F6F8213CC4231E77B1360A2D8FB3"] = "Matt",
	["B473E07D924323CF5CB8710BF932B8A2"] = "fastpaul",
	["3CC451BD1226F9A477E1E4BCDABE5E62"] = "Baton",
	["ED098DEBC9DFC7569FF5ABCD76D18E020"] = "Johny",
	["F98FADC7776045673C1ECA54FA687042"] = "Pepsi",
	["AA12DA9CEEFD3F230C4B204160AE6292"] = "AkaaN",
	["BB596EC5BC881DDC956B072EE070B6F3"] = "BboyTwist",
	["10D12E6292E71142A6B36F4C821563E2"] = "Bertholdt",
	["DA7E6C6E794E39BEF879A8B21644BA84"] = "Chevelle",
	["DC238F1CD5CDA7327D6704BCE93F78F2"] = "D4vy",
	["84F62119CCC1E5C43EA294D4E5C4E744"] = "Forza",
	["31F4BDCB71AB14B3C6A8CD4521B0E984"] = "Inza",
	["51D3244E14E220AE9B23D41DE5A89453"] = "Joker",
	["E4CAC982224348FEF1ABE3928F655F44"] = "Kubitis",
	["70EEA01A38E8CC49AA6FEC304DB02BA1"] = "Tann",
	["804F94ED2C92E59AAE81CF9EBEB0B391"] = "Vjakso",
	["744C8AC134DE8AD35A0E484636BA61A1"] = "Xpliccito",
	["6F2BC7FE2100C28D9607A4C9A1C6B083"] = "Slake",
	["5712AC93310A66AB04AA2E7DA84720E3"] = "Juliet",
	["D562082995F808858382BBA3C5E6D5A2"] = "tayk3x",
	["4CAE08D00CC1D3D0B2DEAECE281AD153"] = "dizel",
	["4FFE6A62E768EF55B4D2077C8BFBBA54"] = "Jac[K]",
	["FEFABCF4BEE15E08F7598A73FB6C87F3"] = "Jacky",
	["B72C4A0AF338796F4DF3DF2B451BCD02"] = "Verstappen",
	["FEEF5CD03AD680CED0D97B8C90064CA4"] = "Aroszparo",
	["A4F0A982E05A21AB57BACABDE2BC3DA2"] = "Eimantas",
	["3A68B318F5E394A18CBDDC7DBE773543"] = "Wolfen",
	["9CAD1104F25E40B98459B5F6A2CA1BB3"] = "Thor",
	["076464084CE443BC3770AB5B35E6FFE"] = "Juanka",
	["D9A826BED8F96A7FA841F8BEF33832B2"] = "Shelby",
	["251634430C46348030742F0E9370E494"] = "Surenos",
	["FB72184CBBE6D8F8B4174E7A53E33684"] = "Flex",
	["954CEB5BD710BB8719E096E4DF1B2853"] = "FaoN",
	["68D679F8AF4FE32EFC1E7485E3217353"] = "ajloz",
	["6ACFBFB3AAEC0C7AE59C151CF0DD1B24"] = "BurN",
	["78A636C61318069D584FC5B3DDE7CB84"] = "Tails",
	["C3D3949D83C3D0E2FF3682B11F73ECA1"] = "Earnhardt",
	["9B7A06EEDB6286598EEFFD9F80531C52"] = "Vilgefortz",
	["3499DF26706C8962330BFF1648CFD443"] = "RaiderZ",
	["C2E2C18FEBBA5B89D0C4C831F9E19B94"] = "F0rce",
	["7675406D39BE779E1A73FEC1B3EF98A2"] = "robson.",
	["76BAFD617D53CBDFC84B2BBC40BF4FA1"] = "KEPLER",
	["0CCA424AAE3B5A77565E14DBF69F932E"] = "Mercy",
	["C0DFCDA88A6AB31A4151DA8EA8CAF9F3"] = "gustav.",
	["DED9C6709EC1B871896887493C6298A2"] = "Pszymek",
	["06012EF346DAE88C43E40F1BA81B6884"] = "zirk",
	["718D0961B29D5C7DA40D9E81B3DB0CB3"] = "Lemon",
	["EE6144EE430D7879429E4DB4F93A71B2"] = "FilipeQ",
	["387115D378E31AA59C99D84B756EAD12"] = "Ruler",
	["AE4B7C47E652CC1BD9FFB0E66D51A5A2"] = "rodrigo.",
	["C566896326430AE234D488FC231C6602"] = "Ferrari",
	["230122DC893045964D79687D5AF7C344"] = "Alan",
	["5EC0949A9CBE53386C212ECDFC7C87F3"] = "Ignition",
	["AA2D27C083755C5DD1947D3833102894"] = "FirsTT",
	["1E3C8C7E5E2C5A3EA649F65A1ED58D12"] = "petrys_",
	["A356C0DACA69103C9C8D70640DB02BE4"] = "Koniu",
	["A70A9E9F8E5A623BD5EAD2A9EB053F94"] = "APFEL",
	["AE024BD58C1F289FAC9C900CB49318F3"] = "Military",
	["900E6D29F143366F4FDF747DC2A94B42"] = "PanzeR",
	["6AA8EEF748B50571895A89B7F2761291"] = "blizzard",
	["2FD18B9E6177D4DAEE135012739BBB42"] = "Rot",
	["11E34F44720FE5E959A704C42E6D0CA4"] = "Mateoryt",
	["30732D77786EA323B0E471D7DB6E86A1"] = "Gametaff",
	["E115C0A8C84DDF701305B4B502425B52"] = "mindreflex",
	["FF331D25DF890A10419A0803C71D1863"] = "Magik",
	["75766DCE35EB2E08CD067BE81A1D56A1"] = "Stino",
	["30C1A57DF8ABC87E5DBE0A8A8401B1A1"] = "Haig",
	["0BEAB3254BB5AD922C56700E4005F084"] = "Luke",
	["D249536EDFD7529813AEB8E126581884"] = "Startseva",
	["783FAA4593A5151F206B93604990D084"] = "Kutzwell",
	["B060679990DA70A43BC0FC235312D261"] = "RoyMustang",
	["CAF2BDF501E5E424E0437EC9A5D36C42"] = "Necro",
	["5429939E1A007902102556626371CB12"] = "Weed",
	["9F9741E05C8714FC09690BBDE0BC3BA3"] = "PapitasZZ",
	["FABB1493D3EBE474DF1458F571E793F4"] = "SkipXs",
	["E20BE1EB61FEE52A11398A44D10A7DA2"] = "SyKo",
	["F55A67B45C191A151A65E8D5E7A0EAB3"] = "Netsky",
	["3095FE1B19CDE362DFCB2F8916B41AE4"] = "ImcooL",
	["A1B84D85E12A71B9FB3C94D1351E47F2"] = "AbueloEbrio",
	["FB7AE115DAC63BE9C6398435C57EF0F3"] = "DuXaL",
	["AF05370D0A4757D9009B08E94D3B2A42"] = "Guilherm3",
	["46BA55488E14E0FC101D612705E29D12"] = "Bob",
	["B372D5D8FD789F7968F5FF28CB0D94A3"] = "Gooku",
	["0EC96492A23B0DB4C3276C31D794A4A3"] = "QUIKSILVER",
	["A39644EEEBDFF7EC553DB1C1EC49B124"] = "SmK",
	["F1CC57F6FC4FE43BC9103FD68C91DFBF"] = "PasT",
	["B6D7558D5A5686DC47236B5C2073FDC2"] = "HarD$tYleRZ",
	["A3FF05F1651E7D14D1257CC68CDB0953"] = "Certig",
	["115F24071A36239D55504F14C036FFE3"] = "Confused",
	["B4E05B4FD8800909B7D426D802F47134"] = "elanista",
	["844C0141630B96944ED2B63E072A19D3"] = "Gandras",
	["73BE27DFB8C33D0CEE94FBBBE97C1C52"] = "JN",
	["94D148127363FF467C2A9CBC393171E3"] = "meks",
	["3F137726734460A6BB5344F608CA0B42"] = "morpp",
	["12816021155EC1965228BC0F8EB5BEA3"] = "morpp",
	["B7AE0F5E5CEEE6B6093C449090941C94"] = "Riot",
	["F14820D559BC4D1914DC09592FD588A2"] = "SuperJames",
    ["FF539DEEFEE2D3A8B6BA417D19E2A754"] = "Daemon",
	["81F8EC486DF859DC5B62E1B2F90F8943"] = "vyoin",
	["55F7232F164DCA19D3A1C65BB0CD3F44"] = "brcH.",
	["CC0F6F028443AE68F1A186D4874671E3"] = "Windson",
	["D7EA76AA1FE82736CDC1CF4D70140844"] = "dreps",
	["8B2E0AF8809B61001A33732F02826234"] = "SKN",
	["363865737819C7D5400D6A22B79EDF12"] = "Archeryking",
	["C71A95E1297192849835D6122A3D54F4"] = "Eddy",
	["D0500A5CDDD3B9937DB681DE5616E6AD"] = "watame",
	["F4318C583BE4B13162F932BD90B19282"] = "MaK",
	["079BDD0B6C71A2671EDCD1396A6F2EB3"] = "Marsik",
	["E82820AD8BFD98C3DB54CB64262D86E4"] = "wentz",
	["58DFBF4DD1A9C423A2D53C377887C043"] = "Dr.Mr.Camillo",
	["B1BABC0F99D82BD526685C885AFC86F4"] = "versed",
	["909CEFFFD009BC73BF2DCF1FE6DFD053"] = "carboN",
	["0084DDF3E11708726DC439236DF264E4"] = "ESRN",
}
-------------------------------------------------------------------------------------------------------------------------
function onPlayerJoin()
	local serial = getPlayerSerial(source)
	local nick = addTeamColor(source)
	if serialNicknameTable[serial] then
		local realNick = serialNicknameTable[serial]
		outputChatBox(nick.."#FFFFFF's real nickname is: #FF6464"..realNick, root, 255, 255, 255, true)
	end
end
addEventHandler("onPlayerJoin", root, onPlayerJoin)
-------------------------------------------------------------------------------------------------------------------------
function showPlayerRealNick(player, command, who)
	local accName = getAccountName(getPlayerAccount(player))
	if not isObjectInACLGroup("user."..accName, aclGetGroup("Admin")) then
		outputChatBox("Command is available only for admins.", player, 255, 0, 0, true)
		return
	end
	if who then
		local otherguy = getPlayerFromPartialName(who) or getPlayerFromName(who)
		if not otherguy then
			outputChatBox("No player found.", player, 255, 0, 0, true)
			return
		end
		local serial = getPlayerSerial(otherguy)
		local nick = addTeamColor(otherguy)
		if serialNicknameTable[serial] then
			local realNick = serialNicknameTable[serial]
			outputChatBox(nick.."#FFFFFF's real nickname is: #FF6464"..realNick, root, 255, 255, 255, true)
		else
			outputChatBox(addTeamColor(otherguy).."#FFFFFF's serial is not registered.", player, 255, 0, 0, true)
		end
	else
		outputChatBox("Please specify a player.", player, 255, 0, 0, true)
	end
end
addCommandHandler("realnick", showPlayerRealNick)
-------------------------------------------------------------------------------------------------------------------------
function getPlayerFromPartialName(thePlayerName)
	local thePlayer = getPlayerFromName(thePlayerName)
	if thePlayer then
		return thePlayer
	end
	for _, thePlayer in ipairs(getElementsByType("player")) do
		if string.find(string.gsub(getPlayerName(thePlayer):lower(),"#%x%x%x%x%x%x", ""), thePlayerName:lower(), 1, true) then
			return thePlayer
		end
	end
	return false
end
-------------------------------------------------------------------------------------------------------------------------
function addTeamColor(player)
	local playerTeam = getPlayerTeam(player)
	if ( playerTeam ) then
		local r,g,b = getTeamColor(playerTeam)
		local n1 = toHex(r)
		local n2 = toHex(g)
		local n3 = toHex(b)
		if r <= 16 then n1 = "0"..n1 end
		if g <= 16 then n2 = "0"..n2 end
		if b <= 16 then n3 = "0"..n3 end
		return "#"..n1..""..n2..""..n3..""..getPlayerNametagText(player)
	else
		return getPlayerNametagText(player)
	end
end
-------------------------------------------------------------------------------------------------------------------------
function toHex(n)
    local hexnums = {"0","1","2","3","4","5","6","7",
                     "8","9","A","B","C","D","E","F"}
    local str,r = "",n%16
    if n-r == 0 then str = hexnums[r+1]
    else str = toHex((n-r)/16)..hexnums[r+1] end
    return str
end